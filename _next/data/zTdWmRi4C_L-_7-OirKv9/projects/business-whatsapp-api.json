{"pageProps":{"projectData":{"slug":"business-whatsapp-api","content":"\r\n# Business WhatsApp API\r\n<img src=\"/images/business-whatsapp-api-npm.png\" alt=\"business-whatsapp-api\" />\r\n\r\n## Overview\r\n\r\n`business-whatsapp-api` is a **TypeScript SDK** for the WhatsApp Cloud API. It offers full **ESM** and **CommonJS** support, enabling developers to integrate WhatsApp messaging with type safety, a fluent builder API, and extensive utilities.\r\n\r\n---\r\n\r\n## Features\r\n\r\n- Full TypeScript typings with exhaustive type definitions.\r\n- Compatibility with both ESM and CommonJS module systems.\r\n- Fluent builders for messages, templates, and interactive flows.\r\n- Robust validation and error handling.\r\n- Webhook handling utilities.\r\n- Media upload and management helpers.\r\n- Business account management and user‑preferences handling.\r\n- Modular architecture for selective imports, keeping bundle size low.\r\n- Built‑in rate‑limiting and retry logic.\r\n- Detailed logging and debugging helpers.\r\n\r\n---\r\n\r\n## Installation\r\n\r\n```bash\r\nnpm install business-whatsapp-api\r\n```\r\n\r\n---\r\n\r\n## API Version\r\n\r\nThe SDK uses Facebook Graph API version `v23.0` by default. You can override it via an environment variable:\r\n\r\n```js\r\nprocess.env.FB_GRAPH_API_VERSION = \"<latest_version>\"\r\n```\r\n\r\n---\r\n\r\n## Quick Start\r\n\r\n```typescript\r\n// ESM example\r\nimport { WhatsAppClient } from \"business-whatsapp-api\";\r\nimport { text } from \"business-whatsapp-api/messages\";\r\nimport { template } from \"business-whatsapp-api/templates\";\r\n\r\nconst client = new WhatsAppClient(\"phone_number_id\", \"access_token\");\r\n\r\n// Send a simple text message\r\nconst msg = text()\r\n  .to(\"1234567890\")\r\n  .body(\"Hello, World!\")\r\n  .build();\r\nawait client.sendMessage(msg);\r\n\r\n// Send a template message\r\nconst tmpl = template()\r\n  .name(\"shipping_confirmation\")\r\n  .language(\"en_US\")\r\n  .addBody([parameter().text(\"Your order has been shipped!\").build()])\r\n  .build();\r\nawait client.sendTemplate(tmpl);\r\n```\r\n\r\n---\r\n\r\n## Module Structure\r\n\r\n- **client** – Core client handling authentication, request signing, and HTTP transport.\r\n- **messages** – Builders for text, media, location, contacts, and interactive messages.\r\n- **templates** – Helpers for constructing template payloads.\r\n- **flows** – High‑level abstractions for button/quick‑reply flows.\r\n- **filters** – Utilities to filter inbound webhook events.\r\n- **handlers** – Pre‑built webhook verification and message handlers.\r\n- **listeners** – Async listeners that emit typed events for custom logic.\r\n- **utils** – Miscellaneous helpers (e.g., media upload, URL signing).\r\n- **types** – Full TypeScript definitions for all public APIs.\r\n\r\n---\r\n\r\n## Advanced Usage\r\n\r\n### Selective Imports\r\n\r\n```typescript\r\nimport { text } from \"business-whatsapp-api/messages\"; // only pulls in message builders\r\n```\r\n\r\n### Media Upload\r\n\r\n```typescript\r\nimport { uploadMedia } from \"business-whatsapp-api/utils\";\r\nconst mediaId = await uploadMedia({\r\n  type: \"image\",\r\n  path: \"./logo.png\",\r\n});\r\n```\r\n\r\n### Error Handling\r\n\r\nAll SDK methods throw `WhatsAppError` with `code` and `details` properties.\r\n\r\n```typescript\r\ntry {\r\n  await client.sendMessage(msg);\r\n} catch (err) {\r\n  if (err instanceof WhatsAppError && err.code === \"RATE_LIMIT\") {\r\n    // implement exponential back‑off\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n## Comparison with Other Packages\r\n\r\n| Feature | business-whatsapp-api | whatsapp-web.js | twilio-whatsapp |\r\n|---------|-----------------------|-----------------|-----------------|\r\n| TypeScript typings | ✅ Full | ❌ Limited | ✅ Partial |\r\n| ESM support | ✅ | ❌ | ✅ |\r\n| Fluent builder API | ✅ | ❌ | ❌ |\r\n| Webhook utilities | ✅ | ❌ | ✅ |\r\n| Media upload helpers | ✅ | ✅ | ✅ |\r\n| Rate‑limit handling | ✅ | ❌ | ✅ |\r\n| Package size (min.) | ~30 KB | ~45 KB | ~55 KB |\r\n\r\nThe SDK stands out for its **type‑safe, chainable API** and **modular imports**, offering a rich feature set while keeping bundle size low.\r\n\r\n---\r\n\r\n## Contributing\r\n\r\nContributions are welcome! Feel free to open issues or submit pull requests for new features, bug fixes, documentation improvements, or test coverage enhancements.\r\n\r\n---\r\n\r\n## License\r\n\r\nDistributed under the MIT License. See the `LICENSE` file for details.\r\n","title":"Business WhatsApp API","description":"TypeScript SDK for WhatsApp Cloud API with full ESM & CommonJS support.","tags":["Node.js","TypeScript","WhatsApp","API"],"date":"2024-08-15","githubUrl":"https://github.com/madhan-g-p/business-whatsapp-api","npmUrl":"https://www.npmjs.com/package/business-whatsapp-api","imageUrl":"/images/business-whatsapp-api-npm.png"}},"__N_SSG":true}